name: sugar
version: 0.1.alpha1
summary: Oh Sweet! The constructionist Learning environment
description: |
  The traditional Sugar Desktop, now as a snap
grade: stable 
confinement: strict 

base: core18

architectures:
- build-on: amd64
  

apps:

  sugar-activity3:
    command: bin/sugar-activity3
    extensions: [gnome-3-34]
    environment:
      LD_LIBRARY_PATH: "$LD_LIBRARY_PATH:$SNAP/usr/lib/$SNAPCRAFT_ARCH_TRIPLET:$SNAP/usr/lib/$SNAPCRAFT_ARCH_TRIPLET/pulseaudio:/var/lib/snapd/lib/gl:$SNAP/lib/python3.6/site-packages/"
      PATH: $SNAP/lib:$SNAP/usr/lib:$SNAP/bin:$SNAP/usr/bin:$SNAP/usr/local/bin:$SNAP/lib/python3.6/site-packages/:$SNAP/usr/lib/python3/dist-packages/:$PATH

  sugar:
    command: bin/sugar-runner
    extensions: [gnome-3-34]
    environment: 
      LD_LIBRARY_PATH: "$LD_LIBRARY_PATH:$SNAP/usr/lib/$SNAPCRAFT_ARCH_TRIPLET:$SNAP/usr/lib/$SNAPCRAFT_ARCH_TRIPLET/pulseaudio:/var/lib/snapd/lib/gl:$SNAP/lib/python3.6/site-packages/"
      PATH: $SNAP/lib:$SNAP/usr/lib:$SNAP/bin:$SNAP/usr/bin:$SNAP/usr/local/bin:$SNAP/lib/python3.6/site-packages/:$SNAP/usr/lib/python3/dist-packages/:$PATH

parts:

  patches:
    source: snap/patches
    plugin: dump
    prime: 
      - -*

  sugar:
    after: [sugar-artwork, sugar-datastore, sugar-toolkit-gtk3, patches]
    source: https://github.com/sugarlabs/sugar.git
    override-build: |
      patch configure.ac $SNAPCRAFT_STAGE/revert-19210bbbff6630437b136448e23b16852c3815af.patch
        
      patch data/Makefile.am $SNAPCRAFT_STAGE/revert-19210bbbff6630437b136448e23b16852c3815af-2.patch
      snapcraftctl build
    plugin: autotools
    stage-packages:
      - python3-empy
    build-packages:
      - python3-empy
      - adwaita-icon-theme
      - autoconf
      - automake
      - autopoint
      - autotools-dev
      - bsdmainutils
      - cdbs
      - dconf-gsettings-backend
      - dconf-service
      - debhelper
      - dh-autoreconf
      - dh-buildinfo
      - dh-strip-nondeterminism
      - dh-translations
      - fontconfig
      - fontconfig-config
      - fonts-dejavu-core
      - gettext
      - gettext-base
      - gir1.2-atk-1.0
      - gir1.2-atspi-2.0
      - gir1.2-freedesktop
      - gir1.2-gdkpixbuf-2.0
      - gir1.2-gtk-3.0
      - gir1.2-harfbuzz-0.0
      - gir1.2-pango-1.0
      - glib-networking
      - glib-networking-common
      - glib-networking-services
      - groff-base
      - gsettings-desktop-schemas
      - gtk-update-icon-cache
      - hicolor-icon-theme
      - humanity-icon-theme
      - icu-devtools
      - intltool
      - intltool-debian
      - jq
      - libarchive-zip-perl
      - libatk-bridge2.0-0
      - libatk-bridge2.0-dev
      - libatk1.0-0
      - libatk1.0-data
      - libatk1.0-dev
      - libatspi2.0-0
      - libatspi2.0-dev
      - libavahi-client3
      - libavahi-common-data
      - libavahi-common3
      - libcairo-gobject2
      - libcairo-script-interpreter2
      - libcairo2
      - libcairo2-dev
      - libcolord2
      - libcroco3
      - libcups2
      - libdatrie1
      - libdbus-1-dev
      - libdconf1
      - libdrm-amdgpu1
      - libdrm-common
      - libdrm-dev
      - libdrm-intel1
      - libdrm-nouveau2
      - libdrm-radeon1
      - libdrm2
      - libegl-mesa0
      - libegl1
      - libegl1-mesa-dev
      - libencode-locale-perl
      - libepoxy-dev
      - libepoxy0
      - libfile-listing-perl
      - libfile-stripnondeterminism-perl
      - libfile-which-perl
      - libfontconfig1
      - libfontconfig1-dev
      - libfreetype6
      - libfreetype6-dev
      - libgbm1
      - libgdk-pixbuf2.0-0
      - libgdk-pixbuf2.0-common
      - libgdk-pixbuf2.0-dev
      - libgl1
      - libgl1-mesa-dri
      - libglapi-mesa
      - libgles1
      - libgles2
      - libglib2.0-bin
      - libglib2.0-dev
      - libglib2.0-dev-bin
      - libglvnd-core-dev
      - libglvnd-dev
      - libglvnd0
      - libglx-mesa0
      - libglx0
      - libgraphite2-3
      - libgraphite2-dev
      - libgtk-3-0
      - libgtk-3-common
      - libgtk-3-dev
      - libharfbuzz-dev
      - libharfbuzz-gobject0
      - libharfbuzz-icu0
      - libharfbuzz0b
      - libhtml-parser-perl
      - libhtml-tagset-perl
      - libhtml-tree-perl
      - libhttp-cookies-perl
      - libhttp-date-perl
      - libhttp-message-perl
      - libhttp-negotiate-perl
      - libice-dev
      - libice6
      - libicu-dev
      - libicu-le-hb-dev
      - libicu-le-hb0
      - libiculx60
      - libio-html-perl
      - libio-socket-ssl-perl
      - libjbig0
      - libjpeg-turbo8
      - libjpeg8
      - libjq1
      - libjson-glib-1.0-0
      - libjson-glib-1.0-common
      - liblcms2-2
      - libllvm9
      - liblwp-mediatypes-perl
      - liblwp-protocol-https-perl
      - libnet-http-perl
      - libnet-ssleay-perl
      - libonig4
      - libopengl0
      - libpango-1.0-0
      - libpango1.0-dev
      - libpangocairo-1.0-0
      - libpangoft2-1.0-0
      - libpangoxft-1.0-0
      - libpciaccess0
      - libpcre16-3
      - libpcre3-dev
      - libpcre32-3
      - libpcrecpp0v5
      - libpipeline1
      - libpixman-1-0
      - libpixman-1-dev
      - libpng-dev
      - libpng16-16
      - libproxy1v5
      - libpthread-stubs0-dev
      - libpython-dev
      - libpython-stdlib
      - libpython2.7
      - libpython2.7-dev
      - libpython2.7-minimal
      - libpython2.7-stdlib
      - libpython3-stdlib
      - libpython3.6-minimal
      - libpython3.6-stdlib
      - librest-0.7-0
      - librsvg2-2
      - librsvg2-common
      - libsensors4
      - libsigsegv2
      - libsm-dev
      - libsm6
      - libsoup-gnome2.4-1
      - libsoup2.4-1
      - libthai-data
      - libthai0
      - libtiff5
      - libtimedate-perl
      - libtool
      - libtry-tiny-perl
      - liburi-perl
      - libwayland-bin
      - libwayland-client0
      - libwayland-cursor0
      - libwayland-dev
      - libwayland-egl1
      - libwayland-server0
      - libwww-perl
      - libwww-robotrules-perl
      - libx11-dev
      - libx11-xcb-dev
      - libx11-xcb1
      - libxau-dev
      - libxcb-dri2-0
      - libxcb-dri2-0-dev
      - libxcb-dri3-0
      - libxcb-dri3-dev
      - libxcb-glx0
      - libxcb-glx0-dev
      - libxcb-present-dev
      - libxcb-present0
      - libxcb-randr0
      - libxcb-randr0-dev
      - libxcb-render0
      - libxcb-render0-dev
      - libxcb-shape0
      - libxcb-shape0-dev
      - libxcb-shm0
      - libxcb-shm0-dev
      - libxcb-sync-dev
      - libxcb-sync1
      - libxcb-xfixes0
      - libxcb-xfixes0-dev
      - libxcb1-dev
      - libxcomposite-dev
      - libxcomposite1
      - libxcursor-dev
      - libxcursor1
      - libxdamage-dev
      - libxdamage1
      - libxdmcp-dev
      - libxext-dev
      - libxfixes-dev
      - libxfixes3
      - libxft-dev
      - libxft2
      - libxi-dev
      - libxi6
      - libxinerama-dev
      - libxinerama1
      - libxkbcommon-dev
      - libxkbcommon0
      - libxml-parser-perl
      - libxrandr-dev
      - libxrandr2
      - libxrender-dev
      - libxrender1
      - libxshmfence-dev
      - libxshmfence1
      - libxtst-dev
      - libxtst6
      - libxxf86vm-dev
      - libxxf86vm1
      - m4
      - man-db
      - mesa-common-dev
      - perl-openssl-defaults
      - pkg-config
      - po-debconf
      - python
      - python-dev
      - python-empy
      - python-minimal
      - python2.7
      - python2.7-dev
      - python2.7-minimal
      - python3
      - python3-distutils
      - python3-lib2to3
      - python3-minimal
      - python3-pkg-resources
      - python3-scour
      - python3-six
      - python3.6
      - python3.6-minimal
      - scour
      - ubuntu-mono
      - ucf
      - wayland-protocols
      - x11-common
      - x11proto-composite-dev
      - x11proto-core-dev
      - x11proto-damage-dev
      - x11proto-dev
      - x11proto-fixes-dev
      - x11proto-input-dev
      - x11proto-randr-dev
      - x11proto-record-dev
      - x11proto-xext-dev
      - x11proto-xf86vidmode-dev
      - x11proto-xinerama-dev
      - xkb-data
      - xorg-sgml-doctools
      - xtrans-dev
      - zlib1g-dev
    stage-packages:
      - python3
      - python3-decorator

  sugar-artwork:
    after: [sugar-datastore]
    source: https://github.com/sugarlabs/sugar-artwork.git
    plugin: autotools
    build-packages:
      - adwaita-icon-theme
      - autoconf
      - autoconf-archive
      - automake
      - autopoint
      - autotools-dev
      - bsdmainutils
      - cdbs
      - dconf-gsettings-backend
      - dconf-service
      - debhelper
      - dh-autoreconf
      - dh-buildinfo
      - dh-strip-nondeterminism
      - dh-translations
      - fontconfig
      - fontconfig-config
      - fonts-dejavu-core
      - gettext
      - gettext-base
      - gir1.2-atk-1.0
      - gir1.2-atspi-2.0
      - gir1.2-freedesktop
      - gir1.2-gdkpixbuf-2.0
      - gir1.2-gtk-2.0
      - gir1.2-gtk-3.0
      - gir1.2-harfbuzz-0.0
      - gir1.2-pango-1.0
      - glib-networking
      - glib-networking-common
      - glib-networking-services
      - gnome-common
      - groff-base
      - gsettings-desktop-schemas
      - gtk-update-icon-cache
      - hicolor-icon-theme
      - humanity-icon-theme
      - icon-naming-utils
      - icon-slicer
      - icu-devtools
      - intltool
      - intltool-debian
      - jq
      - libarchive-zip-perl
      - libatk-bridge2.0-0
      - libatk-bridge2.0-dev
      - libatk1.0-0
      - libatk1.0-data
      - libatk1.0-dev
      - libatspi2.0-0
      - libatspi2.0-dev
      - libavahi-client3
      - libavahi-common-data
      - libavahi-common3
      - libcairo-gobject2
      - libcairo-script-interpreter2
      - libcairo2
      - libcairo2-dev
      - libcolord2
      - libcroco3
      - libcups2
      - libdatrie1
      - libdbus-1-dev
      - libdconf1
      - libdrm-amdgpu1
      - libdrm-common
      - libdrm-dev
      - libdrm-intel1
      - libdrm-nouveau2
      - libdrm-radeon1
      - libdrm2
      - libegl-mesa0
      - libegl1
      - libegl1-mesa-dev
      - libencode-locale-perl
      - libepoxy-dev
      - libepoxy0
      - libfile-listing-perl
      - libfile-stripnondeterminism-perl
      - libfile-which-perl
      - libfontconfig1
      - libfontconfig1-dev
      - libfreetype6
      - libfreetype6-dev
      - libgbm1
      - libgdk-pixbuf2.0-0
      - libgdk-pixbuf2.0-common
      - libgdk-pixbuf2.0-dev
      - libgl1
      - libgl1-mesa-dri
      - libglapi-mesa
      - libgles1
      - libgles2
      - libglib2.0-bin
      - libglib2.0-dev
      - libglib2.0-dev-bin
      - libglvnd-core-dev
      - libglvnd-dev
      - libglvnd0
      - libglx-mesa0
      - libglx0
      - libgraphite2-3
      - libgraphite2-dev
      - libgtk-3-0
      - libgtk-3-common
      - libgtk-3-dev
      - libgtk2.0-0
      - libgtk2.0-common
      - libgtk2.0-dev
      - libharfbuzz-dev
      - libharfbuzz-gobject0
      - libharfbuzz-icu0
      - libharfbuzz0b
      - libhtml-parser-perl
      - libhtml-tagset-perl
      - libhtml-tree-perl
      - libhttp-cookies-perl
      - libhttp-date-perl
      - libhttp-message-perl
      - libhttp-negotiate-perl
      - libice-dev
      - libice6
      - libicu-dev
      - libicu-le-hb-dev
      - libicu-le-hb0
      - libiculx60
      - libio-html-perl
      - libio-socket-ssl-perl
      - libjbig0
      - libjpeg-turbo8
      - libjpeg8
      - libjq1
      - libjson-glib-1.0-0
      - libjson-glib-1.0-common
      - liblcms2-2
      - libllvm9
      - liblwp-mediatypes-perl
      - liblwp-protocol-https-perl
      - libnet-http-perl
      - libnet-ssleay-perl
      - libonig4
      - libopengl0
      - libpango-1.0-0
      - libpango1.0-dev
      - libpangocairo-1.0-0
      - libpangoft2-1.0-0
      - libpangoxft-1.0-0
      - libpciaccess0
      - libpcre16-3
      - libpcre3-dev
      - libpcre32-3
      - libpcrecpp0v5
      - libpipeline1
      - libpixman-1-0
      - libpixman-1-dev
      - libpng-dev
      - libpng16-16
      - libpopt0
      - libproxy1v5
      - libpthread-stubs0-dev
      - libpython-stdlib
      - libpython2.7-minimal
      - libpython2.7-stdlib
      - libpython3-stdlib
      - libpython3.6-minimal
      - libpython3.6-stdlib
      - librest-0.7-0
      - librsvg2-2
      - librsvg2-common
      - libsensors4
      - libsigsegv2
      - libsm-dev
      - libsm6
      - libsoup-gnome2.4-1
      - libsoup2.4-1
      - libthai-data
      - libthai0
      - libtiff5
      - libtimedate-perl
      - libtool
      - libtry-tiny-perl
      - liburi-perl
      - libwayland-bin
      - libwayland-client0
      - libwayland-cursor0
      - libwayland-dev
      - libwayland-egl1
      - libwayland-server0
      - libwww-perl
      - libwww-robotrules-perl
      - libx11-dev
      - libx11-xcb-dev
      - libx11-xcb1
      - libxau-dev
      - libxaw7
      - libxcb-dri2-0
      - libxcb-dri2-0-dev
      - libxcb-dri3-0
      - libxcb-dri3-dev
      - libxcb-glx0
      - libxcb-glx0-dev
      - libxcb-present-dev
      - libxcb-present0
      - libxcb-randr0
      - libxcb-randr0-dev
      - libxcb-render0
      - libxcb-render0-dev
      - libxcb-shape0
      - libxcb-shape0-dev
      - libxcb-shm0
      - libxcb-shm0-dev
      - libxcb-sync-dev
      - libxcb-sync1
      - libxcb-xfixes0
      - libxcb-xfixes0-dev
      - libxcb1-dev
      - libxcomposite-dev
      - libxcomposite1
      - libxcursor-dev
      - libxcursor1
      - libxdamage-dev
      - libxdamage1
      - libxdmcp-dev
      - libxext-dev
      - libxfixes-dev
      - libxfixes3
      - libxft-dev
      - libxft2
      - libxi-dev
      - libxi6
      - libxinerama-dev
      - libxinerama1
      - libxkbcommon-dev
      - libxkbcommon0
      - libxkbfile1
      - libxml-libxml-perl
      - libxml-namespacesupport-perl
      - libxml-parser-perl
      - libxml-sax-base-perl
      - libxml-sax-perl
      - libxml-simple-perl
      - libxml2-utils
      - libxmu6
      - libxpm4
      - libxrandr-dev
      - libxrandr2
      - libxrender-dev
      - libxrender1
      - libxshmfence-dev
      - libxshmfence1
      - libxt6
      - libxtst-dev
      - libxtst6
      - libxxf86vm-dev
      - libxxf86vm1
      - m4
      - man-db
      - mesa-common-dev
      - perl-openssl-defaults
      - pkg-config
      - po-debconf
      - python
      - python-empy
      - python-minimal
      - python2.7
      - python2.7-minimal
      - python3
      - python3-distutils
      - python3-lib2to3
      - python3-minimal
      - python3-pkg-resources
      - python3-scour
      - python3-six
      - python3.6
      - python3.6-minimal
      - scour
      - ubuntu-mono
      - ucf
      - wayland-protocols
      - x11-apps
      - x11-common
      - x11proto-composite-dev
      - x11proto-core-dev
      - x11proto-damage-dev
      - x11proto-dev
      - x11proto-fixes-dev
      - x11proto-input-dev
      - x11proto-randr-dev
      - x11proto-record-dev
      - x11proto-xext-dev
      - x11proto-xf86vidmode-dev
      - x11proto-xinerama-dev
      - xkb-data
      - xorg-sgml-doctools
      - xtrans-dev
      - zlib1g-dev
    organize:
      lib/gtk-2.0/2.10.0/engines/libsugar.so : lib/gtk-2.0/2.10.0/engines/sa/libsugar.so

  sugar-datastore:
    source: https://github.com/sugarlabs/sugar-artwork.git
    plugin: autotools    
    build-packages:
      - autoconf
      - automake
      - autopoint
      - autotools-dev
      - bsdmainutils
      - cdbs
      - debhelper
      - dh-autoreconf
      - dh-buildinfo
      - dh-strip-nondeterminism
      - dh-translations
      - gettext
      - gettext-base
      - groff-base
      - intltool
      - intltool-debian
      - jq
      - libarchive-zip-perl
      - libcroco3
      - libencode-locale-perl
      - libfile-listing-perl
      - libfile-stripnondeterminism-perl
      - libfile-which-perl
      - libhtml-parser-perl
      - libhtml-tagset-perl
      - libhtml-tree-perl
      - libhttp-cookies-perl
      - libhttp-date-perl
      - libhttp-message-perl
      - libhttp-negotiate-perl
      - libio-html-perl
      - libio-socket-ssl-perl
      - libjq1
      - liblwp-mediatypes-perl
      - liblwp-protocol-https-perl
      - libnet-http-perl
      - libnet-ssleay-perl
      - libonig4
      - libpipeline1
      - libpython-all-dev
      - libpython-dev
      - libpython-stdlib
      - libpython2.7
      - libpython2.7-dev
      - libpython2.7-minimal
      - libpython2.7-stdlib
      - libpython3-stdlib
      - libpython3.6-minimal
      - libpython3.6-stdlib
      - libsigsegv2
      - libtimedate-perl
      - libtool
      - libtry-tiny-perl
      - liburi-perl
      - libwww-perl
      - libwww-robotrules-perl
      - libxml-parser-perl
      - m4
      - man-db
      - perl-openssl-defaults
      - po-debconf
      - python
      - python-all
      - python-all-dev
      - python-dev
      - python-minimal
      - python2.7
      - python2.7-dev
      - python2.7-minimal
      - python3
      - python3-minimal
      - python3-pkg-resources
      - python3-scour
      - python3-six
      - python3.6
      - python3.6-minimal
      - scour

  sugar-toolkit-gtk3:
    after: [sugar-artwork, sugar-datastore]
    source: https://github.com/sugarlabs/sugar-toolkit-gtk3.git
    plugin: autotools    
    build-packages:
      - adwaita-icon-theme
      - autoconf
      - autoconf-archive
      - automake
      - autopoint
      - autotools-dev
      - bsdmainutils
      - cdbs
      - d-shlibs
      - dconf-gsettings-backend
      - dconf-service
      - debhelper
      - dh-autoreconf
      - dh-buildinfo
      - dh-strip-nondeterminism
      - dh-translations
      - fontconfig
      - fontconfig-config
      - fonts-dejavu-core
      - gettext
      - gettext-base
      - gir1.2-atk-1.0
      - gir1.2-atspi-2.0
      - gir1.2-freedesktop
      - gir1.2-gdkpixbuf-2.0
      - gir1.2-gtk-3.0
      - gir1.2-harfbuzz-0.0
      - gir1.2-pango-1.0
      - gir1.2-rsvg-2.0
      - glib-networking
      - glib-networking-common
      - glib-networking-services
      - gobject-introspection
      - groff-base
      - gsettings-desktop-schemas
      - gtk-update-icon-cache
      - hicolor-icon-theme
      - humanity-icon-theme
      - icu-devtools
      - intltool
      - intltool-debian
      - jq
      - libarchive-zip-perl
      - libasound2
      - libasound2-data
      - libasound2-dev
      - libatk-bridge2.0-0
      - libatk-bridge2.0-dev
      - libatk1.0-0
      - libatk1.0-data
      - libatk1.0-dev
      - libatspi2.0-0
      - libatspi2.0-dev
      - libavahi-client3
      - libavahi-common-data
      - libavahi-common3
      - libcairo-gobject2
      - libcairo-script-interpreter2
      - libcairo2
      - libcairo2-dev
      - libcolord2
      - libcroco3
      - libcups2
      - libdatrie1
      - libdbus-1-dev
      - libdconf1
      - libdrm-amdgpu1
      - libdrm-common
      - libdrm-dev
      - libdrm-intel1
      - libdrm-nouveau2
      - libdrm-radeon1
      - libdrm2
      - libegl-mesa0
      - libegl1
      - libegl1-mesa-dev
      - libencode-locale-perl
      - libepoxy-dev
      - libepoxy0
      - libffi-dev
      - libfile-listing-perl
      - libfile-stripnondeterminism-perl
      - libfile-which-perl
      - libfontconfig1
      - libfontconfig1-dev
      - libfreetype6
      - libfreetype6-dev
      - libgbm1
      - libgdk-pixbuf2.0-0
      - libgdk-pixbuf2.0-common
      - libgdk-pixbuf2.0-dev
      - libgirepository1.0-dev
      - libgl1
      - libgl1-mesa-dri
      - libglapi-mesa
      - libgles1
      - libgles2
      - libglib2.0-bin
      - libglib2.0-dev
      - libglib2.0-dev-bin
      - libglvnd-core-dev
      - libglvnd-dev
      - libglvnd0
      - libglx-mesa0
      - libglx0
      - libgraphite2-3
      - libgraphite2-dev
      - libgtk-3-0
      - libgtk-3-common
      - libgtk-3-dev
      - libharfbuzz-dev
      - libharfbuzz-gobject0
      - libharfbuzz-icu0
      - libharfbuzz0b
      - libhtml-parser-perl
      - libhtml-tagset-perl
      - libhtml-tree-perl
      - libhttp-cookies-perl
      - libhttp-date-perl
      - libhttp-message-perl
      - libhttp-negotiate-perl
      - libice-dev
      - libice6
      - libicu-dev
      - libicu-le-hb-dev
      - libicu-le-hb0
      - libiculx60
      - libio-html-perl
      - libio-socket-ssl-perl
      - libjbig0
      - libjpeg-turbo8
      - libjpeg8
      - libjq1
      - libjson-glib-1.0-0
      - libjson-glib-1.0-common
      - liblcms2-2
      - libllvm9
      - liblwp-mediatypes-perl
      - liblwp-protocol-https-perl
      - libnet-http-perl
      - libnet-ssleay-perl
      - libonig4
      - libopengl0
      - libpango-1.0-0
      - libpango1.0-dev
      - libpangocairo-1.0-0
      - libpangoft2-1.0-0
      - libpangoxft-1.0-0
      - libpciaccess0
      - libpcre16-3
      - libpcre3-dev
      - libpcre32-3
      - libpcrecpp0v5
      - libpipeline1
      - libpixman-1-0
      - libpixman-1-dev
      - libpng-dev
      - libpng16-16
      - libproxy1v5
      - libpthread-stubs0-dev
      - libpython-dev
      - libpython-stdlib
      - libpython2.7
      - libpython2.7-dev
      - libpython2.7-minimal
      - libpython2.7-stdlib
      - libpython3-stdlib
      - libpython3.6-minimal
      - libpython3.6-stdlib
      - librest-0.7-0
      - librsvg2-2
      - librsvg2-common
      - librsvg2-dev
      - libsensors4
      - libsigsegv2
      - libsm-dev
      - libsm6
      - libsoup-gnome2.4-1
      - libsoup2.4-1
      - libthai-data
      - libthai0
      - libtiff5
      - libtimedate-perl
      - libtool
      - libtry-tiny-perl
      - liburi-perl
      - libwayland-bin
      - libwayland-client0
      - libwayland-cursor0
      - libwayland-dev
      - libwayland-egl1
      - libwayland-server0
      - libwww-perl
      - libwww-robotrules-perl
      - libx11-dev
      - libx11-xcb-dev
      - libx11-xcb1
      - libxau-dev
      - libxcb-dri2-0
      - libxcb-dri2-0-dev
      - libxcb-dri3-0
      - libxcb-dri3-dev
      - libxcb-glx0
      - libxcb-glx0-dev
      - libxcb-present-dev
      - libxcb-present0
      - libxcb-randr0
      - libxcb-randr0-dev
      - libxcb-render0
      - libxcb-render0-dev
      - libxcb-shape0
      - libxcb-shape0-dev
      - libxcb-shm0
      - libxcb-shm0-dev
      - libxcb-sync-dev
      - libxcb-sync1
      - libxcb-xfixes0
      - libxcb-xfixes0-dev
      - libxcb1-dev
      - libxcomposite-dev
      - libxcomposite1
      - libxcursor-dev
      - libxcursor1
      - libxdamage-dev
      - libxdamage1
      - libxdmcp-dev
      - libxext-dev
      - libxfixes-dev
      - libxfixes3
      - libxft-dev
      - libxft2
      - libxi-dev
      - libxi6
      - libxinerama-dev
      - libxinerama1
      - libxkbcommon-dev
      - libxkbcommon0
      - libxml-parser-perl
      - libxrandr-dev
      - libxrandr2
      - libxrender-dev
      - libxrender1
      - libxshmfence-dev
      - libxshmfence1
      - libxtst-dev
      - libxtst6
      - libxxf86vm-dev
      - libxxf86vm1
      - m4
      - man-db
      - mesa-common-dev
      - perl-openssl-defaults
      - pkg-config
      - po-debconf
      - python
      - python-dev
      - python-minimal
      - python2.7
      - python2.7-dev
      - python2.7-minimal
      - python3
      - python3-distutils
      - python3-lib2to3
      - python3-mako
      - python3-markupsafe
      - python3-minimal
      - python3-pkg-resources
      - python3-scour
      - python3-six
      - python3.6
      - python3.6-minimal
      - scour
      - ubuntu-mono
      - ucf
      - wayland-protocols
      - x11-common
      - x11proto-composite-dev
      - x11proto-core-dev
      - x11proto-damage-dev
      - x11proto-dev
      - x11proto-fixes-dev
      - x11proto-input-dev
      - x11proto-randr-dev
      - x11proto-record-dev
      - x11proto-xext-dev
      - x11proto-xf86vidmode-dev
      - x11proto-xinerama-dev
      - xkb-data
      - xorg-sgml-doctools
      - xtrans-dev
      - zlib1g-dev


  sugar-app:
    after: [sugar, sugar-artwork, sugar-datastore, sugar-toolkit-gtk3]
    # See 'snapcraft plugins'
    plugin: autotools
    source: https://github.com/sugarlabs/sugar-runner.git
    override-build: |
      git apply $SNAPCRAFT_STAGE/ballogyorgy-sugar-runner-py3.patch
      snapcraftctl build
    stage-packages:
      - python3-gi

plugs:
  desktop:
  desktop-legacy:
  x11:
  unity7:
  wayland:
  opengl:
  home:
  process-control:
  network-bind:
  network:
